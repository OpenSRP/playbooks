---
dependencies:
- role: tomcat7
  install_tomcat_service: false
  tomcat_system_user: "{{ opensrp_system_user }}"
  tomcat_system_group: "{{ tomcat_group }}"
  tomcat_user_home: "{{ opensrp_user_home }}"
  tomcat_instance: "{{ opensrp_tomcat_instance }}"
  tomcat_Working_directory: "{{ tomcat_user_home }}/{{ tomcat_instance }}"
  tomcat_http_port: "{{ opensrp_tomcat_http_port }}"
  tomcat_shutdown_port: "{{ opensrp_tomcat_shutdown_port }}"
  tomcat_max_filesize: "{{ opensrp_tomcat_max_filesize }}"
  tomcat_fsize_threshold: "{{ opensrp_tomcat_fsize_threshold }}"
  tomcat_ajp_port: "{{ opensrp_tomcat_ajp_port }}"
  tags:
    - tomcat7

- role: activemq
  become: yes
  tags:
    - activemq

- role: nginx
  site_name: "{{ opensrp_site_name }}"
  site_file: "roles/opensrp/templates/etc/nginx/sites-enabled/opensrp_site_name.j2"
  tags:
    - nginx

- role: mysql-5.6
  when: opensrp_mysql_database is defined
  mysql_port: "{{ opensrp_mysql_port }}"
  tags:
    - mysql-5.6

- role: collectd
  collectd_deployed_app_name: "opensrp"
  collectd_deployed_app_version: "{{ opensrp_version }}"
  become: True
  tags:
    - collectd

- role: oracle-java8
  tags:
   - oracle-java8
